<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Termini di Servizio - MyPetCare</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        header {
            background: #1C8275;
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin: -20px -20px 40px -20px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        h2 {
            color: #1C8275;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        h3 {
            color: #145B52;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        p, li {
            margin-bottom: 15px;
            color: #555;
        }
        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }
        .highlight {
            background: #FFF3CD;
            padding: 15px;
            border-left: 4px solid: #FFC107;
            margin: 20px 0;
        }
        .important {
            background: #FFE5E5;
            padding: 15px;
            border-left: 4px solid #DC3545;
            margin: 20px 0;
        }
        .success {
            background: #E8F5F3;
            padding: 15px;
            border-left: 4px solid #1C8275;
            margin: 20px 0;
        }
        .contact {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            color: #888;
        }
        a {
            color: #1C8275;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .last-updated {
            color: #888;
            font-style: italic;
            margin-top: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #1C8275;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Theme color -->
  <meta name="theme-color" content="#1C8275">
  <meta name="msapplication-TileColor" content="#1C8275">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/icon-128.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16.png">
  
  <!-- iOS meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="PetCare">
  
  <!-- Windows meta tags -->
  <meta name="msapplication-TileImage" content="/icons/icon-144.png">

</head>
<body>
    <div class="container">
        <header>
            <h1>üìã Termini di Servizio</h1>
            <p>MyPetCare - Piattaforma di Prenotazione Servizi per Animali</p>
            <p class="last-updated">Ultimo aggiornamento: 12 Novembre 2025</p>
        </header>

        <div class="important">
            <strong>‚ö†Ô∏è Importante:</strong> Utilizzando MyPetCare, accetti questi Termini di Servizio. Leggili attentamente prima di usare l'app.
        </div>

        <h2>1. Definizioni</h2>
        <ul>
            <li><strong>"MyPetCare"</strong> o <strong>"Noi"</strong>: La piattaforma e il servizio fornito</li>
            <li><strong>"Utente"</strong> o <strong>"Tu"</strong>: Persona fisica che utilizza l'app</li>
            <li><strong>"PRO"</strong>: Professionista iscritto alla piattaforma (veterinari, toelettatori, pet sitter)</li>
            <li><strong>"Servizio"</strong>: Prestazione fornita dal PRO all'Utente</li>
            <li><strong>"Prenotazione"</strong>: Richiesta di un Servizio tramite l'app</li>
            <li><strong>"Piattaforma"</strong>: App mobile e sito web MyPetCare</li>
        </ul>

        <h2>2. Accettazione dei Termini</h2>
        <p>Utilizzando MyPetCare, dichiari di:</p>
        <ul>
            <li>‚úÖ Aver letto e compreso questi Termini di Servizio</li>
            <li>‚úÖ Avere almeno 18 anni o consenso genitoriale</li>
            <li>‚úÖ Fornire informazioni veritiere durante la registrazione</li>
            <li>‚úÖ Accettare la <a href="https://mypetcareapp.org/privacy">Privacy Policy</a></li>
            <li>‚úÖ Rispettare le leggi italiane e internazionali applicabili</li>
        </ul>

        <h2>3. Descrizione del Servizio</h2>
        <p>MyPetCare √® una <strong>piattaforma di intermediazione</strong> che:</p>
        <ul>
            <li>üîó <strong>Connette</strong> proprietari di animali con professionisti qualificati</li>
            <li>üìÖ <strong>Facilita</strong> la prenotazione di servizi per animali domestici</li>
            <li>üí≥ <strong>Gestisce</strong> pagamenti sicuri tramite Stripe e PayPal</li>
            <li>‚≠ê <strong>Raccoglie</strong> recensioni e valutazioni per migliorare la qualit√†</li>
        </ul>

        <div class="success">
            <strong>üìå Chiarimento Importante:</strong> MyPetCare √® un intermediario tecnologico. I servizi professionali (visite veterinarie, toelettatura, pet sitting) sono forniti direttamente dai PRO iscritti, che sono professionisti autonomi e indipendenti.
        </div>

        <h2>4. Registrazione e Account</h2>

        <h3>4.1 Creazione Account</h3>
        <p>Per utilizzare MyPetCare devi:</p>
        <ol>
            <li>Fornire email valida e password sicura</li>
            <li>Completare il processo di verifica email</li>
            <li>Fornire informazioni veritiere (nome, cognome, contatti)</li>
        </ol>

        <h3>4.2 Sicurezza Account</h3>
        <p>Tu sei responsabile di:</p>
        <ul>
            <li>üîê Mantenere riservata la tua password</li>
            <li>üîê Notificare immediatamente accessi non autorizzati</li>
            <li>üîê Non condividere il tuo account con terzi</li>
        </ul>

        <h3>4.3 Cancellazione Account</h3>
        <p>Puoi cancellare il tuo account in qualsiasi momento da Impostazioni ‚Üí Cancella Account. I tuoi dati saranno eliminati entro 30 giorni (ad eccezione dei dati fiscali obbligatori).</p>

        <h2>5. Prenotazioni e Servizi</h2>

        <h3>5.1 Processo di Prenotazione</h3>
        <ol>
            <li>Cerca professionisti tramite geolocalizzazione o categorie</li>
            <li>Seleziona data, ora e tipo di servizio</li>
            <li>Conferma prenotazione (vincolo contrattuale)</li>
            <li>Ricevi conferma via email e notifica push</li>
        </ol>

        <h3>5.2 Conferma Prenotazione</h3>
        <p>La prenotazione √® confermata quando:</p>
        <ul>
            <li>‚úÖ Il pagamento √® stato autorizzato</li>
            <li>‚úÖ Il PRO ha accettato la prenotazione</li>
            <li>‚úÖ Hai ricevuto email di conferma</li>
        </ul>

        <h3>5.3 Cancellazioni</h3>

        <div class="highlight">
            <strong>‚ö†Ô∏è Politica di Cancellazione:</strong>
        </div>

        <table>
            <tr>
                <th>Tempistiche Cancellazione</th>
                <th>Rimborso</th>
            </tr>
            <tr>
                <td>Pi√π di 24 ore prima</td>
                <td>100% di rimborso</td>
            </tr>
            <tr>
                <td>12-24 ore prima</td>
                <td>50% di rimborso</td>
            </tr>
            <tr>
                <td>Meno di 12 ore prima</td>
                <td>Nessun rimborso</td>
            </tr>
            <tr>
                <td>No-show (mancata presentazione)</td>
                <td>Nessun rimborso</td>
            </tr>
        </table>

        <p><strong>Eccezioni:</strong> Rimborso totale in caso di:</p>
        <ul>
            <li>üè• Emergenza medica documentata</li>
            <li>‚ö†Ô∏è Cause di forza maggiore (calamit√† naturali, emergenze nazionali)</li>
            <li>‚ùå Cancellazione da parte del PRO</li>
        </ul>

        <h2>6. Pagamenti e Prezzi</h2>

        <h3>6.1 Metodi di Pagamento</h3>
        <p>Accettiamo:</p>
        <ul>
            <li>üí≥ Carte di credito/debito (Visa, Mastercard, American Express) tramite Stripe</li>
            <li>üí∞ PayPal</li>
            <li>üîÑ Abbonamenti mensili ricorrenti per account PRO</li>
        </ul>

        <h3>6.2 Prezzi</h3>
        <ul>
            <li>I prezzi sono stabiliti autonomamente dai PRO</li>
            <li>Tutti i prezzi sono in Euro (‚Ç¨) e includono IVA</li>
            <li>MyPetCare trattiene una commissione del 15% su ogni transazione</li>
        </ul>

        <h3>6.3 Rimborsi</h3>
        <p>I rimborsi vengono elaborati entro:</p>
        <ul>
            <li>üîÑ <strong>5-10 giorni lavorativi</strong> su carta di credito</li>
            <li>üîÑ <strong>3-5 giorni lavorativi</strong> su PayPal</li>
        </ul>

        <h3>6.4 Fatturazione</h3>
        <p>Riceverai ricevuta elettronica via email per ogni transazione. Le fatture sono disponibili nell'area "Le mie prenotazioni".</p>

        <h2>7. Account PRO - Abbonamenti</h2>

        <h3>7.1 Requisiti PRO</h3>
        <p>Per diventare PRO devi:</p>
        <ul>
            <li>üìÑ Fornire Partita IVA e documenti fiscali</li>
            <li>üéì Dimostrare qualifiche professionali (veterinari: iscrizione Ordine, ecc.)</li>
            <li>‚úÖ Sottoscrivere abbonamento mensile</li>
            <li>üìã Accettare Codice di Condotta Professionisti</li>
        </ul>

        <h3>7.2 Piani Abbonamento PRO</h3>
        <table>
            <tr>
                <th>Piano</th>
                <th>Prezzo Mensile</th>
                <th>Benefici</th>
            </tr>
            <tr>
                <td>Basic</td>
                <td>‚Ç¨29.99/mese</td>
                <td>Max 20 prenotazioni/mese</td>
            </tr>
            <tr>
                <td>Premium</td>
                <td>‚Ç¨49.99/mese</td>
                <td>Prenotazioni illimitate + Badge Premium</td>
            </tr>
        </table>

        <p><strong>Codici Promozionali PRO:</strong></p>
        <ul>
            <li>üéÅ <code>FREE-1M</code>: 1 mese gratuito</li>
            <li>üéÅ <code>3M</code>: 20% sconto su 3 mesi</li>
            <li>üéÅ <code>12M</code>: 30% sconto su piano annuale</li>
        </ul>

        <h3>7.3 Disdetta Abbonamento</h3>
        <p>Puoi disdire l'abbonamento PRO in qualsiasi momento. La disdetta avr√† effetto al termine del periodo gi√† pagato (no rimborso parziale).</p>

        <h2>8. Obblighi degli Utenti</h2>

        <h3>8.1 Comportamento Vietato</h3>
        <p>√à vietato:</p>
        <ul>
            <li>‚ùå Fornire informazioni false o fuorvianti</li>
            <li>‚ùå Impersonare altre persone o PRO</li>
            <li>‚ùå Pubblicare contenuti offensivi, diffamatori, illegali</li>
            <li>‚ùå Tentare di accedere a dati di altri utenti</li>
            <li>‚ùå Utilizzare bot, scraper o strumenti automatici</li>
            <li>‚ùå Violare diritti di propriet√† intellettuale</li>
            <li>‚ùå Contattare PRO al di fuori della piattaforma per evitare commissioni</li>
        </ul>

        <h3>8.2 Recensioni</h3>
        <p>Le recensioni devono essere:</p>
        <ul>
            <li>‚úÖ Veritiere e basate su esperienza reale</li>
            <li>‚úÖ Rispettose e non offensive</li>
            <li>‚úÖ Rilevanti per il servizio ricevuto</li>
        </ul>
        <p>Ci riserviamo il diritto di rimuovere recensioni inappropriate o false.</p>

        <h2>9. Responsabilit√† e Limitazioni</h2>

        <h3>9.1 Ruolo di MyPetCare</h3>
        <div class="important">
            <strong>‚ö†Ô∏è Importante Limitazione di Responsabilit√†:</strong><br>
            MyPetCare √® una piattaforma di intermediazione. NON siamo responsabili per:
            <ul>
                <li>‚ùå Qualit√† dei servizi forniti dai PRO</li>
                <li>‚ùå Azioni o omissioni dei PRO</li>
                <li>‚ùå Danni a persone o animali durante i servizi</li>
                <li>‚ùå Contenuti, recensioni o comunicazioni tra utenti e PRO</li>
            </ul>
        </div>

        <h3>9.2 Responsabilit√† dei PRO</h3>
        <p>I PRO sono professionisti autonomi responsabili per:</p>
        <ul>
            <li>‚úÖ Qualit√† e sicurezza dei servizi forniti</li>
            <li>‚úÖ Assicurazione professionale e responsabilit√† civile</li>
            <li>‚úÖ Rispetto normative professionali (Ordini, licenze)</li>
            <li>‚úÖ Gestione fiscale e contributiva</li>
        </ul>

        <h3>9.3 Esclusione di Garanzie</h3>
        <p>La piattaforma √® fornita "cos√¨ com'√®" senza garanzie di:</p>
        <ul>
            <li>Disponibilit√† ininterrotta del servizio</li>
            <li>Assenza di errori o bug</li>
            <li>Compatibilit√† con tutti i dispositivi</li>
        </ul>

        <h3>9.4 Limitazione di Responsabilit√†</h3>
        <p>MyPetCare non sar√† responsabile per danni indiretti, incidentali, punitivi o consequenziali, inclusi:</p>
        <ul>
            <li>Perdita di profitti o opportunit√†</li>
            <li>Perdita di dati</li>
            <li>Danni a dispositivi</li>
        </ul>
        <p>La nostra responsabilit√† massima √® limitata all'importo pagato negli ultimi 12 mesi.</p>

        <h2>10. Propriet√† Intellettuale</h2>
        <p>Tutti i contenuti della piattaforma (logo, grafica, testi, codice) sono di propriet√† di MyPetCare e protetti da copyright. √à vietato:</p>
        <ul>
            <li>‚ùå Riprodurre, modificare, distribuire contenuti senza autorizzazione</li>
            <li>‚ùå Utilizzare il brand MyPetCare per scopi commerciali</li>
            <li>‚ùå Decompilare o fare reverse engineering dell'app</li>
        </ul>

        <h2>11. Privacy e Protezione Dati</h2>
        <p>Il trattamento dei tuoi dati personali √® regolato dalla nostra <a href="https://mypetcareapp.org/privacy">Privacy Policy</a>, che costituisce parte integrante di questi Termini.</p>

        <h2>12. Modifiche ai Termini</h2>
        <p>Ci riserviamo il diritto di modificare questi Termini in qualsiasi momento. Le modifiche sostanziali saranno comunicate tramite:</p>
        <ul>
            <li>üìß Email agli utenti registrati</li>
            <li>üì± Notifica push nell'app</li>
            <li>üåê Banner sul sito web</li>
        </ul>
        <p>L'uso continuato dell'app dopo le modifiche costituisce accettazione dei nuovi Termini.</p>

        <h2>13. Sospensione e Terminazione</h2>

        <h3>13.1 Sospensione Account</h3>
        <p>Possiamo sospendere o terminare il tuo account in caso di:</p>
        <ul>
            <li>Violazione di questi Termini</li>
            <li>Comportamento fraudolento o illegale</li>
            <li>Mancato pagamento abbonamento PRO</li>
            <li>Recensioni false o abuso della piattaforma</li>
        </ul>

        <h3>13.2 Effetti della Terminazione</h3>
        <p>Alla terminazione:</p>
        <ul>
            <li>Perderai accesso all'account e ai dati</li>
            <li>Prenotazioni future saranno cancellate</li>
            <li>Prenotazioni passate rimarranno visibili per scopi fiscali</li>
        </ul>

        <h2>14. Risoluzione Controversie</h2>

        <h3>14.1 Legge Applicabile</h3>
        <p>Questi Termini sono regolati dalla <strong>legge italiana</strong>.</p>

        <h3>14.2 Foro Competente</h3>
        <p>Per controversie derivanti da questi Termini, sar√† competente il <strong>Foro di Roma</strong>, salvo disposizioni imperative di legge.</p>

        <h3>14.3 Risoluzione Extragiudiziale</h3>
        <p>Prima di ricorrere all'autorit√† giudiziaria, ti invitiamo a contattarci per cercare una soluzione amichevole:</p>
        <ul>
            <li>üìß Email: <a href="mailto:support@mypetcareapp.org">support@mypetcareapp.org</a></li>
            <li>üìã Oggetto: "Controversia - [Descrizione]"</li>
        </ul>

        <h3>14.4 Piattaforma ODR</h3>
        <p>Per controversie online, puoi utilizzare la piattaforma europea ODR:<br>
        <a href="https://ec.europa.eu/consumers/odr" target="_blank">https://ec.europa.eu/consumers/odr</a></p>

        <h2>15. Disposizioni Finali</h2>

        <h3>15.1 Indipendenza delle Clausole</h3>
        <p>Se una clausola di questi Termini risulta invalida, le altre rimarranno valide ed efficaci.</p>

        <h3>15.2 Rinuncia</h3>
        <p>La mancata applicazione di una clausola non costituisce rinuncia a farla valere in futuro.</p>

        <h3>15.3 Cessione</h3>
        <p>Non puoi cedere questi Termini a terzi. MyPetCare pu√≤ cedere questi Termini in caso di acquisizione o fusione.</p>

        <h3>15.4 Intero Accordo</h3>
        <p>Questi Termini, insieme alla Privacy Policy, costituiscono l'intero accordo tra te e MyPetCare.</p>

        <div class="contact">
            <h2>16. Contatti</h2>
            <p>Per domande sui Termini di Servizio o per segnalazioni:</p>
            <p>
                <strong>Email:</strong> <a href="mailto:support@mypetcareapp.org">support@mypetcareapp.org</a><br>
                <strong>Sito:</strong> <a href="https://mypetcareapp.org">https://mypetcareapp.org</a><br>
                <strong>Oggetto Email:</strong> "Termini - [Tua Richiesta]"
            </p>
            <p>Tempo di risposta: <strong>48 ore lavorative</strong></p>
        </div>

        <footer>
            <p>&copy; 2025 MyPetCare. Tutti i diritti riservati.</p>
            <p>
                <a href="https://mypetcareapp.org">Home</a> | 
                <a href="https://mypetcareapp.org/privacy">Privacy Policy</a> | 
                <a href="https://mypetcareapp.org/support">Supporto</a>
            </p>
            <p class="last-updated">Versione: 1.0 - Ultimo aggiornamento: 12 Novembre 2025</p>
        </footer>
    </div>
<!-- Google Consent Mode v2 -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  // Default consent state (denied)
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied',
    'functionality_storage': 'denied',
    'personalization_storage': 'denied',
    'security_storage': 'granted',  // Always granted for security
    'wait_for_update': 500
  });
  
  // Load saved consent from localStorage
  (function() {
    var consent = localStorage.getItem('cookie_consent');
    if (consent) {
      var consentData = JSON.parse(consent);
      gtag('consent', 'update', consentData);
    }
  })();
</script>

<!-- Google Analytics 4 (replace G-XXXXXXX with your Measurement ID) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXX', {
    'anonymize_ip': true,
    'cookie_flags': 'SameSite=None;Secure'
  });
</script>

<!-- Cookie Consent Banner Styles -->
<style>
  #cookie-consent-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #1C8275;
    color: white;
    padding: 20px;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
    z-index: 10000;
    display: none;
    animation: slideUp 0.3s ease-out;
  }
  
  @keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
  }
  
  #cookie-consent-banner.show {
    display: block;
  }
  
  .cookie-consent-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
  }
  
  .cookie-consent-text {
    flex: 1;
    min-width: 300px;
  }
  
  .cookie-consent-text h3 {
    margin-bottom: 10px;
    font-size: 1.2rem;
  }
  
  .cookie-consent-text p {
    margin-bottom: 10px;
    opacity: 0.9;
  }
  
  .cookie-consent-text a {
    color: #FFF;
    text-decoration: underline;
  }
  
  .cookie-consent-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  
  .cookie-consent-btn {
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .cookie-consent-btn-accept {
    background: white;
    color: #1C8275;
  }
  
  .cookie-consent-btn-accept:hover {
    background: #f0f0f0;
    transform: scale(1.05);
  }
  
  .cookie-consent-btn-reject {
    background: transparent;
    color: white;
    border: 2px solid white;
  }
  
  .cookie-consent-btn-reject:hover {
    background: rgba(255,255,255,0.1);
  }
  
  .cookie-consent-btn-customize {
    background: rgba(255,255,255,0.2);
    color: white;
  }
  
  .cookie-consent-btn-customize:hover {
    background: rgba(255,255,255,0.3);
  }
  
  /* Cookie Settings Modal */
  #cookie-settings-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.7);
    z-index: 10001;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  
  #cookie-settings-modal.show {
    display: flex;
  }
  
  .cookie-settings-content {
    background: white;
    color: #333;
    padding: 30px;
    border-radius: 10px;
    max-width: 600px;
    width: 100%;
    max-height: 80vh;
    overflow-y: auto;
  }
  
  .cookie-settings-content h3 {
    margin-bottom: 20px;
    color: #1C8275;
  }
  
  .cookie-category {
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
  }
  
  .cookie-category:last-child {
    border-bottom: none;
  }
  
  .cookie-toggle {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }
  
  .cookie-toggle label {
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .cookie-toggle input[type="checkbox"] {
    width: 50px;
    height: 26px;
    position: relative;
    appearance: none;
    background: #ccc;
    border-radius: 13px;
    cursor: pointer;
    transition: background 0.3s;
  }
  
  .cookie-toggle input[type="checkbox"]:checked {
    background: #1C8275;
  }
  
  .cookie-toggle input[type="checkbox"]::before {
    content: '';
    position: absolute;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    top: 2px;
    left: 2px;
    transition: left 0.3s;
  }
  
  .cookie-toggle input[type="checkbox"]:checked::before {
    left: 26px;
  }
  
  .cookie-toggle input[type="checkbox"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  .cookie-description {
    font-size: 14px;
    color: #666;
    margin-top: 5px;
  }
  
  .cookie-settings-buttons {
    display: flex;
    gap: 10px;
    margin-top: 20px;
  }
  
  .cookie-settings-buttons button {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 5px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .cookie-settings-buttons .btn-save {
    background: #1C8275;
    color: white;
  }
  
  .cookie-settings-buttons .btn-save:hover {
    background: #145B52;
  }
  
  .cookie-settings-buttons .btn-cancel {
    background: #eee;
    color: #333;
  }
  
  .cookie-settings-buttons .btn-cancel:hover {
    background: #ddd;
  }
  
  @media (max-width: 768px) {
    .cookie-consent-content {
      flex-direction: column;
      text-align: center;
    }
    
    .cookie-consent-buttons {
      width: 100%;
      justify-content: center;
    }
    
    .cookie-consent-btn {
      flex: 1;
      min-width: 100px;
    }
  }
</style>

<!-- Cookie Consent Banner HTML -->
<div id="cookie-consent-banner">
  <div class="cookie-consent-content">
    <div class="cookie-consent-text">
      <h3>üç™ Utilizziamo i Cookie</h3>
      <p>
        Utilizziamo cookie e tecnologie simili per migliorare la tua esperienza sul nostro sito.
        Consulta la nostra <a href="/privacy.html">Privacy Policy</a> per maggiori informazioni.
      </p>
    </div>
    <div class="cookie-consent-buttons">
      <button class="cookie-consent-btn cookie-consent-btn-accept" onclick="acceptAllCookies()">
        Accetta Tutti
      </button>
      <button class="cookie-consent-btn cookie-consent-btn-reject" onclick="rejectAllCookies()">
        Rifiuta Tutti
      </button>
      <button class="cookie-consent-btn cookie-consent-btn-customize" onclick="showCookieSettings()">
        Personalizza
      </button>
    </div>
  </div>
</div>

<!-- Cookie Settings Modal -->
<div id="cookie-settings-modal">
  <div class="cookie-settings-content">
    <h3>‚öôÔ∏è Impostazioni Cookie</h3>
    <p style="margin-bottom: 20px;">Scegli quali cookie desideri accettare. I cookie necessari sono sempre attivi.</p>
    
    <div class="cookie-category">
      <div class="cookie-toggle">
        <label>
          <input type="checkbox" id="consent-necessary" checked disabled>
          Cookie Necessari
        </label>
      </div>
      <div class="cookie-description">
        Questi cookie sono essenziali per il funzionamento del sito e non possono essere disabilitati.
      </div>
    </div>
    
    <div class="cookie-category">
      <div class="cookie-toggle">
        <label>
          <input type="checkbox" id="consent-analytics">
          Cookie Analitici
        </label>
      </div>
      <div class="cookie-description">
        Ci aiutano a capire come i visitatori utilizzano il sito, raccogliendo informazioni in forma anonima.
      </div>
    </div>
    
    <div class="cookie-category">
      <div class="cookie-toggle">
        <label>
          <input type="checkbox" id="consent-functional">
          Cookie Funzionali
        </label>
      </div>
      <div class="cookie-description">
        Permettono di ricordare le tue preferenze e migliorare la tua esperienza personalizzata.
      </div>
    </div>
    
    <div class="cookie-category">
      <div class="cookie-toggle">
        <label>
          <input type="checkbox" id="consent-marketing">
          Cookie di Marketing
        </label>
      </div>
      <div class="cookie-description">
        Utilizzati per mostrare contenuti pubblicitari pi√π rilevanti per te e i tuoi interessi.
      </div>
    </div>
    
    <div class="cookie-settings-buttons">
      <button class="btn-save" onclick="saveCustomCookieSettings()">Salva Preferenze</button>
      <button class="btn-cancel" onclick="closeCookieSettings()">Annulla</button>
    </div>
  </div>
</div>

<!-- Cookie Consent JavaScript -->
<script>
  // Check if user has already made a choice
  (function() {
    var consent = localStorage.getItem('cookie_consent');
    if (!consent) {
      // Show banner after 1 second
      setTimeout(function() {
        document.getElementById('cookie-consent-banner').classList.add('show');
      }, 1000);
    }
  })();
  
  function acceptAllCookies() {
    var consentData = {
      'ad_storage': 'granted',
      'ad_user_data': 'granted',
      'ad_personalization': 'granted',
      'analytics_storage': 'granted',
      'functionality_storage': 'granted',
      'personalization_storage': 'granted'
    };
    
    gtag('consent', 'update', consentData);
    localStorage.setItem('cookie_consent', JSON.stringify(consentData));
    localStorage.setItem('cookie_consent_date', new Date().toISOString());
    
    hideCookieBanner();
  }
  
  function rejectAllCookies() {
    var consentData = {
      'ad_storage': 'denied',
      'ad_user_data': 'denied',
      'ad_personalization': 'denied',
      'analytics_storage': 'denied',
      'functionality_storage': 'denied',
      'personalization_storage': 'denied'
    };
    
    gtag('consent', 'update', consentData);
    localStorage.setItem('cookie_consent', JSON.stringify(consentData));
    localStorage.setItem('cookie_consent_date', new Date().toISOString());
    
    hideCookieBanner();
  }
  
  function showCookieSettings() {
    // Load current settings
    var consent = localStorage.getItem('cookie_consent');
    if (consent) {
      var consentData = JSON.parse(consent);
      document.getElementById('consent-analytics').checked = consentData.analytics_storage === 'granted';
      document.getElementById('consent-functional').checked = consentData.functionality_storage === 'granted';
      document.getElementById('consent-marketing').checked = consentData.ad_storage === 'granted';
    }
    
    document.getElementById('cookie-settings-modal').classList.add('show');
  }
  
  function closeCookieSettings() {
    document.getElementById('cookie-settings-modal').classList.remove('show');
  }
  
  function saveCustomCookieSettings() {
    var analytics = document.getElementById('consent-analytics').checked;
    var functional = document.getElementById('consent-functional').checked;
    var marketing = document.getElementById('consent-marketing').checked;
    
    var consentData = {
      'ad_storage': marketing ? 'granted' : 'denied',
      'ad_user_data': marketing ? 'granted' : 'denied',
      'ad_personalization': marketing ? 'granted' : 'denied',
      'analytics_storage': analytics ? 'granted' : 'denied',
      'functionality_storage': functional ? 'granted' : 'denied',
      'personalization_storage': functional ? 'granted' : 'denied'
    };
    
    gtag('consent', 'update', consentData);
    localStorage.setItem('cookie_consent', JSON.stringify(consentData));
    localStorage.setItem('cookie_consent_date', new Date().toISOString());
    
    closeCookieSettings();
    hideCookieBanner();
  }
  
  function hideCookieBanner() {
    document.getElementById('cookie-consent-banner').classList.remove('show');
  }
  
  // Global function to revoke consent (can be called from Privacy Policy page)
  window.revokeCookieConsent = function() {
    localStorage.removeItem('cookie_consent');
    localStorage.removeItem('cookie_consent_date');
    location.reload();
  };
</script>


  <!-- Service Worker Registration -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", function() {
        navigator.serviceWorker.register("/service-worker.js")
          .then(function(registration) {
            console.log("‚úÖ Service Worker registered:", registration.scope);
            
            // Check for updates
            registration.addEventListener("updatefound", function() {
              const newWorker = registration.installing;
              newWorker.addEventListener("statechange", function() {
                if (newWorker.state === "installed" && navigator.serviceWorker.controller) {
                  console.log("üîÑ New Service Worker available. Refresh to update.");
                  // Optional: Show update notification to user
                }
              });
            });
          })
          .catch(function(error) {
            console.log("‚ùå Service Worker registration failed:", error);
          });
      });
      
      // Handle Service Worker updates
      let refreshing = false;
      navigator.serviceWorker.addEventListener("controllerchange", function() {
        if (!refreshing) {
          refreshing = true;
          window.location.reload();
        }
      });
    }
  </script>

</body>
</html>
